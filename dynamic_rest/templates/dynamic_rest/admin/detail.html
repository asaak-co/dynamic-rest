{% load rest_framework %}
{% load dynamic_rest %}
<div class="p-2 mb-5">
    {% for key in details %}
        {% if not results.serializer %}
            <div class="drest-field row form-group p-2">
                <label class="col-sm-2 form-control-label">
                    {{ key }}
                </label>
                <div class="col-sm-10 drest-field-value">
                    {% get_value_from_dict results key %}
                </div>
            </div>
        {% else %}
            {% get_field_value results.serializer results.serializer.instance key as field %}
            {% if field.should_render %}
                <div class="drest-field row form-group p-2">
                    <label class="col-sm-2 form-control-label">
                        {% if field and field.help_text %}
                            <span data-placement="right"
                            class="drest-field-label drest-has-tooltip"
                            data-tippy-trigger="click" title="{{ field.help_text | help_text_format | safe }}">{{ field.label }}</span>
                        {% else %}
                            <span class="drest-field-label">{{ field.label }}</span>
                        {% endif %}
                    </label>
                    <div class="drest-field-value col-sm-10">
                        <div>
                            {{ field | render_field_value }}
                        </div>
                        {% if key in create_related_forms %}
                            <div class="drest-btn btn btn-primary" data-toggle="modal" data-target="#createModal-{{ key }}">
                                <span class="drest-btn-icon fa fa-plus" aria-hidden="true"></span>
                                <span class="drest-btn-label">Create</span>
                            </div>
                        {% endif %}
                    </div>
                </div>
            {% endif %}
        {% endif %}
    {% endfor %}
</div>
