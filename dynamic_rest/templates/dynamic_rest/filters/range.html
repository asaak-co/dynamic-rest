{% load dynamic_rest %}

<div id="{{ filter.id }}1" class="drest-field {% if real_type == 'date' or real_type == 'datetime-local' or real_type == 'time' %}drest-field--datetime{% endif %}">
    <div class="mdc-text-field mdc-text-field--fullwidth" data-mdc-auto-init="MDCTextField">
        <input
            class="mdc-text-field__input"
            name="{{ filter.key }}"
            data-type="{{ real_type }}"
            type="{{ range_type }}"
            id="{{ filter.id }}1-input"
            {% if help_text %}
                aria-controls="{{ filter.id }}1-helper"
                aria-describedby="{{ filter.id }}1-helper"
            {% endif %}
            {% if filter.value and filter.value.0 %}
                value="{{ filter.value.0 }}"
            {% endif %}
            {% if real_type == 'integer' %}
                step=1
            {% endif %}
        />
        <label
            class="drest-field__label"
            for="{{ filter.id }}1-input"
        >
            {{ filter.label }} (min)
        </label>
        <div class="mdc-line-ripple" data-mdc-auto-init="MDCLineRipple"></div>
    </div>
    <p id="{{ filter.id }}1-helper" class="mdc-text-field-helper-text" aria-hidden="true">
        {% if filter.help_text %}
            {{ filter.help_text | help_text_short_format | safe }}
        {% endif %}
    </p>
    <script>
        var filter = new drest.DRESTField({
            id: "{{ filter.id }}1",
            label: "{{ filter.label }} (min)",
            readOnly: false,
            writeOnly: false,
            helpText: "{{ filter.help_text | help_text_format | escapejs }}",
            helpTextShort: "{{ filter.help_text | help_text_short_format | escapejs }}",
            type: {{ filter.type | to_json }},
            many: {{ filter.many | to_json }},
            name: {{ filter.key | to_json }},
            value: {{ filter.value.0 | to_json }}
        });
    </script>
</div>

<div id="{{ filter.id }}2" class="drest-field {% if real_type == 'date' or real_type == 'datetime-local' or real_type == 'time' %}drest-field--datetime{% endif %}">
    <div class="mdc-text-field mdc-text-field--fullwidth" data-mdc-auto-init="MDCTextField">
        <input
            class="mdc-text-field__input"
            name="{{ filter.key }}"
            type="{{ range_type }}"
            id="{{ filter.id }}2-input"
            data-type="{{ real_type }}"
            {% if filter.help_text %}
                aria-controls="{{ id }}2-helper"
                aria-describedby="{{ id }}2-helper"
            {% endif %}
            {% if filter.value and filter.value.1 %}
                value="{{ filter.value.1 }}"
            {% endif %}
            {% if real_type == 'integer' %}
                step=1
            {% endif %}
        />
        <label
            class="drest-field__label"
            for="{{ filter.id }}2-input"
        >
            {{ filter.label }} (max)
        </label>
        <div class="mdc-line-ripple" data-mdc-auto-init="MDCLineRipple"></div>
    </div>
    <p id="{{ filter.id }}2-helper" class="mdc-text-field-helper-text" aria-hidden="true">
        {% if filter.help_text %}
            {{ filter.help_text | help_text_short_format | safe }}
        {% endif %}
    </p>

    <script>
        var filter = new drest.DRESTField({
            id: "{{ filter.id }}2",
            label: "{{ filter.label }} (max)",
            readOnly: false,
            writeOnly: false,
            helpText: "{{ filter.help_text | help_text_format | escapejs }}",
            helpTextShort: "{{ filter.help_text | help_text_short_format | escapejs }}",
            type: {{ filter.type | to_json }},
            many: {{ filter.many | to_json }},
            name: {{ filter.key | to_json }},
            value: {{ filter.value.1 | to_json }}
        });
    </script>
</div>
